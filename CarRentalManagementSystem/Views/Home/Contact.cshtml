@{
    ViewData["Title"] = "Contact Us";
}

<!-- Contact Hero Section (aligned with Home) -->
<div class="hero-section py-5 mb-5" style="background: linear-gradient(135deg, var(--customer-primary) 0%, var(--customer-accent) 100%); position: relative; overflow: hidden;">
    <div class="hero-overlay" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.1); z-index: 1;"></div>
    <div class="container" style="position: relative; z-index: 2;">
        <div class="row align-items-center min-vh-50">
            <div class="col-lg-6">
                <div class="hero-content">
                    <h1 class="display-4 fw-bold mb-4 text-white" style="text-shadow: 0 2px 4px rgba(0,0,0,0.3);">
                        <i data-lucide="phone" class="me-2" style="width: 36px; height: 36px;"></i>
                        Get In Touch
                    </h1>
                    <p class="lead mb-4 text-white-50" style="font-size: 1.2rem; line-height: 1.6;">We're here to help you with all your car rental needs. Contact us anytime!</p>
                    <div class="contact-methods">
                        <div class="method-item">
                            <i data-lucide="phone" class="method-icon"></i>
                            <div class="method-info">
                                <span class="method-label">Call Us</span>
                                <span class="method-value">+94 771234567</span>
                            </div>
                        </div>
                        <div class="method-item">
                            <i data-lucide="mail" class="method-icon"></i>
                            <div class="method-info">
                                <span class="method-label">Email Us</span>
                                <span class="method-value">info@carrentpro.com</span>
                            </div>
                        </div>
                        <div class="method-item">
                            <i data-lucide="clock" class="method-icon"></i>
                            <div class="method-info">
                                <span class="method-label">24/7 Support</span>
                                <span class="method-value">Always Available</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="hero-image-container" style="position: relative;">
                    <img src="~/images/cars/1.jpg" alt="Contact CarRentalPro" class="img-fluid rounded shadow-lg"
                         style="max-height: 500px; object-fit: cover; border-radius: 20px !important; width: 100%;"
                         onerror="this.src='https://images.unsplash.com/photo-1525609004556-c46c7d6cf023?q=80&w=1200&auto=format&fit=crop'">
                    <div class="floating-badge" style="position: absolute; top: 20px; right: 20px; background: rgba(255,255,255,0.9); padding: 10px 15px; border-radius: 25px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                        <span class="text-primary fw-bold">Weâ€™re here 24/7</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="contact-main-section">
    <div class="container">
        <div class="row">
            <!-- Contact Form -->
            <div class="col-lg-8 mb-4">
                <div class="modern-contact-form">
                    <div class="form-header">
                        <div class="header-icon">
                            <i data-lucide="send" class="icon"></i>
                        </div>
                        <div class="header-content">
                            <h4 class="form-title">Send us a Message</h4>
                            <p class="form-subtitle">We'll get back to you within 24 hours</p>
                        </div>
                    </div>
                    <div class="form-body">
                        <form id="contactForm" method="post" asp-action="SubmitContact">
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <div class="input-group-modern">
                                        <label for="name" class="modern-label">
                                            <i data-lucide="user" class="label-icon"></i>
                                            Full Name *
                                        </label>
                                        <input type="text" class="modern-input" id="name" name="Name" required>
                                        <div class="input-border"></div>
                                        <div class="invalid-feedback">
                                            Please provide your full name.
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <div class="input-group-modern">
                                        <label for="email" class="modern-label">
                                            <i data-lucide="mail" class="label-icon"></i>
                                            Email Address *
                                        </label>
                                        <input type="email" class="modern-input" id="email" name="Email" required>
                                        <div class="input-border"></div>
                                        <div class="invalid-feedback">
                                            Please provide a valid email address.
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="mb-3">
                                <div class="input-group-modern">
                                    <label for="phone" class="modern-label">
                                        <i data-lucide="phone" class="label-icon"></i>
                                        Phone Number *
                                    </label>
                                    <input type="tel" class="modern-input" id="phone" name="PhoneNumber" required>
                                    <div class="input-border"></div>
                                    <div class="invalid-feedback">
                                        Please provide your phone number.
                                    </div>
                                </div>
                            </div>
                            <div class="mb-4">
                                <div class="input-group-modern">
                                    <label for="message" class="modern-label">
                                        <i data-lucide="message-square" class="label-icon"></i>
                                        Message *
                                    </label>
                                    <textarea class="modern-textarea" id="message" name="Message" rows="5" required
                                              placeholder="Please tell us how we can help you..."></textarea>
                                    <div class="input-border"></div>
                                    <div class="invalid-feedback">
                                        Please provide your message.
                                    </div>
                                </div>
                            </div>
                            <div class="d-grid">
                                <button type="submit" class="modern-submit-btn">
                                    <span class="btn-content">
                                        <i data-lucide="send" class="btn-icon"></i>
                                        <span class="btn-text">Send Message</span>
                                    </span>
                                    <div class="btn-background"></div>
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Contact Information -->
            <div class="col-lg-4 mb-4">
                <div class="contact-info-card">
                    <div class="info-header">
                        <div class="header-icon">
                            <i data-lucide="info" class="icon"></i>
                        </div>
                        <div class="header-content">
                            <h4 class="info-title">Contact Information</h4>
                            <p class="info-subtitle">Get in touch with us</p>
                        </div>
                    </div>
                    <div class="info-body">
                        <div class="info-item">
                            <div class="info-icon-wrapper address">
                                <i data-lucide="map-pin" class="info-icon"></i>
                            </div>
                            <div class="info-content">
                                <h6 class="info-label">Office Address</h6>
                                <p class="info-text">
                                    Mann's school lane<br>
                                    Uduvil<br>
                                    Chunnakam
                                </p>
                            </div>
                        </div>

                        <div class="info-item">
                            <div class="info-icon-wrapper phone">
                                <i data-lucide="phone" class="info-icon"></i>
                            </div>
                            <div class="info-content">
                                <h6 class="info-label">Phone Number</h6>
                                <p class="info-text">+94 771234565</p>
                            </div>
                        </div>

                        <div class="info-item">
                            <div class="info-icon-wrapper email">
                                <i data-lucide="mail" class="info-icon"></i>
                            </div>
                            <div class="info-content">
                                <h6 class="info-label">Email Address</h6>
                                <p class="info-text">infocarrentpro@gmail.com</p>
                            </div>
                        </div>

                        <div class="info-item">
                            <div class="info-icon-wrapper hours">
                                <i data-lucide="clock" class="info-icon"></i>
                            </div>
                            <div class="info-content">
                                <h6 class="info-label">Working Hours</h6>
                                <div class="hours-list">
                                    <div class="hour-item">
                                        <span class="day">Mon - Fri</span>
                                        <span class="time">8:00 AM - 6:00 PM</span>
                                    </div>
                                    <div class="hour-item">
                                        <span class="day">Saturday</span>
                                        <span class="time">9:00 AM - 4:00 PM</span>
                                    </div>
                                    <div class="hour-item">
                                        <span class="day">Sunday</span>
                                        <span class="time">10:00 AM - 2:00 PM</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="info-item">
                            <div class="info-icon-wrapper support">
                                <i data-lucide="headphones" class="info-icon"></i>
                            </div>
                            <div class="info-content">
                                <h6 class="info-label">24/7 Support</h6>
                                <p class="info-text">Emergency support available round the clock</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Google Maps Section -->
<div class="container-fluid mb-5">
    <div class="row">
        <div class="col-12">
            <div class="card shadow-sm">
                <div class="card-header bg-info text-white">
                    <h4 class="mb-0"><i class="fas fa-map me-2"></i>Find Us Here</h4>
                </div>
                <div class="card-body p-0">
                    <div class="ratio ratio-21x9">
                        <iframe 
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3022.9663095919303!2d-74.00425878459418!3d40.74076684379132!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c259bf5c1654f3%3A0xc80f9cfce5383d5d!2sGoogle!5e0!3m2!1sen!2sus!4v1562600463319!5m2!1sen!2sus"
                            style="border:0;" 
                            allowfullscreen="" 
                            loading="lazy" 
                            referrerpolicy="no-referrer-when-downgrade">
                        </iframe>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Quick Contact Cards -->
<div class="container mb-5">
    <div class="row">
        <div class="col-md-4 mb-3">
            <div class="card border-0 shadow-sm text-center">
                <div class="card-body">
                    <i class="fas fa-phone-alt fa-3x text-success mb-3"></i>
                    <h5 class="card-title">Call Us</h5>
                    <p class="card-text">Speak directly with our team</p>
                    <a href="tel:+94771234567" class="btn btn-success">
                        <i class="fas fa-phone me-1"></i>Call Now
                    </a>
                </div>
            </div>
        </div>
        <div class="col-md-4 mb-3">
            <div class="card border-0 shadow-sm text-center">
                <div class="card-body">
                    <i class="fas fa-envelope fa-3x text-primary mb-3"></i>
                    <h5 class="card-title">Email Us</h5>
                    <p class="card-text">Send us your inquiries</p>
                    <a href="mailto:infocarrentpro@gmail.com" class="btn btn-primary">
                        <i class="fas fa-envelope me-1"></i>Send Email
                    </a>
                </div>
            </div>
        </div>
        <div class="col-md-4 mb-3">
            <div class="card border-0 shadow-sm text-center">
                <div class="card-body">
                    <i class="fas fa-comments fa-3x text-info mb-3"></i>
                    <h5 class="card-title">Live Chat</h5>
                    <p class="card-text">Chat with our support team</p>
                    <button class="btn btn-info" onclick="startLiveChat()">
                        <i class="fas fa-comments me-1"></i>Start Chat
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- FAQ Section -->
<div class="bg-light py-5">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center mb-5">
                <h2 class="display-6 fw-bold">Frequently Asked Questions</h2>
                <p class="lead text-muted">Quick answers to common questions</p>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-8 mx-auto">
                <div class="accordion" id="faqAccordion">
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="faq1">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse1">
                                What documents do I need to rent a car?
                            </button>
                        </h2>
                        <div id="collapse1" class="accordion-collapse collapse show" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                You need a valid driver's license, a government-issued photo ID, and a credit card. International visitors need a valid passport and international driving permit.
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="faq2">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse2">
                                What is the minimum age requirement?
                            </button>
                        </h2>
                        <div id="collapse2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                The minimum age to rent a car is 21 years old. Drivers under 25 may be subject to additional fees and restrictions on certain vehicle categories.
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="faq3">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse3">
                                Can I cancel or modify my reservation?
                            </button>
                        </h2>
                        <div id="collapse3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                Yes, you can cancel or modify your reservation up to 24 hours before pickup without any penalty. Changes made within 24 hours may incur additional fees.
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="faq4">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse4">
                                Is insurance included in the rental?
                            </button>
                        </h2>
                        <div id="collapse4" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body">
                                Basic insurance coverage is included in all rentals. Additional coverage options are available for purchase for enhanced protection.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        // Form validation and submission
        (function() {
            'use strict';
            window.addEventListener('load', function() {
                var forms = document.getElementsByClassName('needs-validation');
                var validation = Array.prototype.filter.call(forms, function(form) {
                    form.addEventListener('submit', function(event) {
                        if (form.checkValidity() === false) {
                            event.preventDefault();
                            event.stopPropagation();
                        }
                        form.classList.add('was-validated');
                    }, false);
                });
            }, false);
        })();

        // Contact form submission
        $('#contactForm').on('submit', function(e) {
            e.preventDefault();
            
            if (this.checkValidity()) {
                const formData = $(this).serialize();
                
                $.ajax({
                    url: '@Url.Action("SubmitContact", "Home")',
                    type: 'POST',
                    data: formData,
                    success: function(response) {
                        if (response.success) {
                            alert('Thank you for your message! We will get back to you soon.');
                            $('#contactForm')[0].reset();
                            $('#contactForm').removeClass('was-validated');
                        } else {
                            alert('Sorry, there was an error sending your message. Please try again.');
                        }
                    },
                    error: function() {
                        alert('Sorry, there was an error sending your message. Please try again.');
                    }
                });
            }
            
            $(this).addClass('was-validated');
        });

        function startLiveChat() {
            alert('Live chat feature will be available soon! Please use the contact form or call us directly.');
        }
    </script>
}